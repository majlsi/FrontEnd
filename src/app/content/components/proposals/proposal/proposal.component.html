<m-portlet [options]="{headLarge: false}">
    <!-- start::Header (attributtes: mPortletHeadTitle|mPortletHeadTools) -->
    <ng-container mPortletHeadTitle>
        <div class="m-portlet__head-title">
            <h3 *ngIf="!proposalId" class="m-portlet__head-text">
                {{'PROPOSALS.ADD.ADDPROPOSAL' | translate}}
            </h3>
            <h3 *ngIf="proposalId" class="m-portlet__head-text">
                    {{'PROPOSALS.ADD.PROPOSALDETAILS' | translate}}
                </h3>
            
        </div>
    </ng-container>
    <ng-container mPortletHeadTools>

    </ng-container>
    <!-- end::Header -->
    <!-- start::Body (attribute: mPortletBody) -->
    <ng-container mPortletBody>
       
        <div class="bg-white--content m--padding-15">


            
            <form class="m-form m-form--p-top-bottom-10 m-form--profile m-form--label-align-right" novalidate #proposalForm="ngForm" (ngSubmit)="save(proposalForm)">
                <div class="m-form__section m-form__section--first mt-2 mb-3">
                    <div class="m-form__heading mb-0">
                        <h3 class="m-form__heading-title">
                            <span class="number_block">1</span>&nbsp;
                            {{'PROPOSALS.ADD.GENERALPROPOSALINFO' | translate}}</h3>
                    </div>
                    
                    <div class="form-group m-form__group row">
                        <label for="namear" class="col-lg-2 col-form-label">{{'PROPOSALS.ADD.TITLE' | translate}}</label>
                        <div class="col-lg-6">
                            <input type="text" [disabled]="proposalId" placeholder="{{'PROPOSALS.ADD.TITLEPLACEHOLDER' | translate}}" class="form-control" id="title" name="title"
                                [(ngModel)]="proposal.proposal_title" #title="ngModel" maxlength="255" required>
                            <div class="error text-danger form-control-feedback" [hidden]="!hasError(proposalForm,'title', 'required')">{{'PROPOSALS.ADD.TITLEREQUIRED' | translate}}
                            </div>
                        </div>
                    </div>

                    <div class="form-group m-form__group row">
                        <label for="name" class="col-lg-2 col-form-label">{{'PROPOSALS.ADD.DESCRIPTION' | translate}}</label>
                        <div class="col-lg-10">
                                <div class="form-group mt-3">
                                        <ck-editor  [config]="editorConfig"  name="proposal" id="proposal" [(ngModel)]="proposal.proposal_text" skin="moono-lisa" [readonly]="proposalId" language="{{lang}}" required></ck-editor>
                                    </div>
                                    <div *ngIf="showDescError" class="error text-danger form-control-feedback" [hidden]="!hasError(proposalForm,'proposal', 'required')">
                                            {{'PROPOSALS.ADD.DESCRIPTIONREQUIRED' | translate}}
                                    </div>
        
                           
                        </div>
                    </div>

                    <div *ngIf="proposalId" class="form-group m-form__group row">
                        <label for="namear" class="col-lg-2 col-form-label">{{'PROPOSALS.ADD.PROPOSALCREATEDBY' | translate}}</label>
                        <div class="col-lg-6">
                          
                            <input type="text" *ngIf="proposalId" [disabled]="proposalId"  class="form-control" id="createdBy" name="createdBy"
                                value="{{isArabic? (proposal.user?.name_ar? proposal.user?.name_ar : proposal.user?.name) : (proposal.user?.name? proposal.user?.name : proposal.user?.name_ar)}}" >
                            
                        </div>
                    </div>

                    <div *ngIf="proposalId" class="form-group m-form__group row">
                            <label for="namear" class="col-lg-2 col-form-label">{{'ORGANIZATIONS.ADD.ORGANIZATIONNAME' | translate}}</label>
                            <div class="col-lg-6">
                              
                                <input type="text"  [disabled]="proposalId"  class="form-control" id="createdBy" name="createdBy"
                                    value="{{isArabic? (proposal.organization?.organization_name_ar? proposal.organization?.organization_name_ar : proposal.organization?.organization_name_en) : (proposal.organization?.organization_name_en? proposal.organization?.organization_name_en : proposal.organization?.organization_name_ar)}}" >
                               
                            </div>
                        </div>

                    

                   

                   

                </div>
                

               

               
               


                <div class="m-form__actions m-form__actions--solid">
                    <div class="row">
                        <div class="col-lg-12 m--align-left">
                            <button *ngIf="!proposalId" type="submit" class="btn btn-primary" [disabled]="submitted">
                                {{'BUTTON.SAVE' | translate}} <i class="fa fa-check"
                                    aria-hidden="true"></i>
                                    <i class='fa fa-spinner fa-spin' *ngIf="submitted"></i>
                                </button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </ng-container>

</m-portlet>